{"version":3,"file":"static/js/530.d2a33637.chunk.js","mappings":"kMACA,EAA4B,6BAA5B,EAAoE,4BAApE,EAA6G,8B,SCGhGA,EAAY,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,GAAIC,EAAyB,EAAzBA,YAAaC,EAAY,EAAZA,MACrCC,GAAWC,EAAAA,EAAAA,MAKjB,OACE,eAAIC,UAAWC,EAAf,UACE,UAAC,KAAD,CAAMC,GAAE,kBAAaP,GAAMQ,MAAO,CAAEC,KAAMN,GAA1C,WACE,gBACEE,UAAWC,EACXI,IAAKT,EAAW,UATP,oCASO,OAAiBA,GAPvC,mNAQMU,IAAKT,KAEP,cAAGG,UAAWC,EAAd,SAA+BJ,QAItC,ECrBD,EAA4B,6BCGfU,EAAY,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAC1B,OACE,eAAIR,UAAWC,EAAf,SACGO,EAAOC,KAAI,gBAAGd,EAAH,EAAGA,GAAIC,EAAP,EAAOA,YAAaC,EAApB,EAAoBA,MAAOa,EAA3B,EAA2BA,KAA3B,OACV,SAAChB,EAAD,CAEEC,GAAIA,EACJC,YAAaA,EACbC,MAAK,OAAEa,QAAF,IAAEA,EAAAA,EAAQb,GAHVF,EAFG,KAUjB,C,gKChBD,GAAgB,UAAY,0BAA0B,WAAa,4B,SCgFnE,EA1EoB,WAAO,IAAD,EACxB,GAAkCgB,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAAsCJ,EAAAA,EAAAA,UAAS,IAA/C,eAAOK,EAAP,KAAoBC,EAApB,KACA,GAAwBN,EAAAA,EAAAA,UAAS,GAAjC,eAAOO,EAAP,KAAaC,EAAb,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAoCX,EAAAA,EAAAA,UAAS,GAA7C,eAAOY,EAAP,KAAmBC,EAAnB,KAEMC,EAAK,UAAGJ,EAAaK,IAAI,gBAApB,QAAgC,IAE3CC,EAAAA,EAAAA,YAAU,WACR,IAAKF,EAAO,OAAOR,EAAe,IADpB,wCAGd,oGAEIJ,GAAa,GACbE,GAAW,GAHf,UAKyBa,EAAAA,EAAAA,IAAeH,EAAOP,GAL/C,OAKUV,EALV,OAMIqB,QAAQC,IAAItB,EAAOuB,MAGjBd,EADW,IAATC,EACaV,EAAOuB,KAAKC,QAEZ,SAAAC,GAAU,wBAAQA,IAAR,OAAuBzB,EAAOuB,KAAKC,SAAnC,GAE3BnB,GAAa,GACbW,EAAchB,EAAOuB,KAAKG,aAd9B,kDAgBInB,GAAW,GACXF,GAAa,GAjBjB,2DAHc,0DAwBdsB,EACD,GAAE,CAACd,EAAcH,EAAMO,IAaxB,OACE,4BACE,gBAAKzB,UAAWC,EAAAA,UAAhB,UACE,kBACED,UAAWC,EAAAA,gBACXmC,KAAK,OACLC,YAAY,eACZC,MAAOb,EACPc,SAfa,SAAAC,GACnB,GAAuB,KAAnBA,EAAEC,OAAOH,MACX,OAAOhB,EAAgB,CAAC,GAE1BA,EAAgB,CAAEG,MAAOe,EAAEC,OAAOH,OACnC,MAaI1B,IAAa,SAAC8B,EAAA,EAAD,IACb5B,GACC,0BAAM,6CAENE,EAAY2B,OAAS,IAAK,SAACpC,EAAA,EAAD,CAAWC,OAAQQ,IAE9CA,EAAY2B,OAAS,GAAKpB,EAAaL,IACtC,mBAAQlB,UAAWC,EAAAA,WAAgBmC,KAAK,SAASQ,QA7BpC,WACjBzB,GAAQ,SAAA0B,GAAQ,OAAIA,EAAW,CAAf,GACjB,EA2BK,SAAsE,gBAM7E,C","sources":["webpack://react-homework-template/./src/components/MovieItem.module.css?c1ef","components/MovieItem.jsx","webpack://react-homework-template/./src/components/MovieList.module.css?f66a","components/MovieList.jsx","webpack://react-homework-template/./src/pages/Movies.module.css?d157","pages/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieitem\":\"MovieItem_movieitem__MnAv5\",\"movieimg\":\"MovieItem_movieimg__7Nyho\",\"movietitle\":\"MovieItem_movietitle__ouFms\"};","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport css from './MovieItem.module.css';\n\nexport const MovieItem = ({ id, poster_path, title }) => {\n  const location = useLocation();\n  const BASE_IMG = 'https://image.tmdb.org/t/p/w500/';\n  const defaultImg =\n    'https://media.istockphoto.com/id/1396814518/pl/wektor/obraz-ju%C5%BC-wkr%C3%B3tce-brak-zdj%C4%99cia-brak-miniatury-ilustracja-wektorowa.jpg?s=2048x2048&w=is&k=20&c=bUnbketbTn26iM9fYWY5rgDy5BoQrsToBgHUF2SrePA=';\n\n  return (\n    <li className={css.movieitem}>\n      <Link to={`/movies/${id}`} state={{ from: location }}>\n        <img\n          className={css.movieimg}\n          src={poster_path ? `${BASE_IMG}${poster_path}` : defaultImg}\n          alt={title}\n        />\n        <p className={css.movietitle}>{title}</p>\n      </Link>\n    </li>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movielist\":\"MovieList_movielist__eq8p0\"};","import React from 'react';\nimport { MovieItem } from 'components/MovieItem';\nimport css from './MovieList.module.css';\n\nexport const MovieList = ({ movies }) => {\n  return (\n    <ul className={css.movielist}>\n      {movies.map(({ id, poster_path, title, name }) => (\n        <MovieItem\n          key={id}\n          id={id}\n          poster_path={poster_path}\n          title={name ?? title}\n        />\n      ))}\n    </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Movies_searchbar__iWczE\",\"buttonload\":\"Movies_buttonload__t3xJb\"};","import React, { useState, useEffect } from 'react';\nimport { getSearchMovie } from 'components/servises/fetchMovies';\nimport { MovieList } from '../components/MovieList';\nimport { Loader } from '../components/Loader/Loader';\nimport { useSearchParams } from 'react-router-dom';\nimport css from './Movies.module.css';\n\nconst MovieSearch = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [movieSearch, setMovieSearch] = useState([]);\n  const [page, setPage] = useState(1);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [totalPages, setTotalPages] = useState(0);\n\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!query) return setMovieSearch([]);\n\n    async function getMovie() {\n      try {\n        setIsLoading(true);\n        setIsError(false);\n\n        const movies = await getSearchMovie(query, page);\n        console.log(movies.data);\n\n        if (page === 1) {\n          setMovieSearch(movies.data.results);\n        } else {\n          setMovieSearch(prevMovies => [...prevMovies, ...movies.data.results]);\n        }\n        setIsLoading(false);\n        setTotalPages(movies.data.total_pages);\n      } catch {\n        setIsError(true);\n        setIsLoading(false);\n      }\n    }\n\n    getMovie();\n  }, [searchParams, page, query]);\n\n  const onLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const handleSubmit = e => {\n    if (e.target.value === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: e.target.value });\n  };\n\n  return (\n    <div>\n      <div className={css.searchbar}>\n        <input\n          className={css.searchforminput}\n          type=\"text\"\n          placeholder=\"Search movie\"\n          value={query}\n          onChange={handleSubmit}\n        />\n      </div>\n      {isLoading && <Loader />}\n      {isError ? (\n        <span>Error occurred, try again in few seconds</span>\n      ) : (\n        movieSearch.length > 0 && <MovieList movies={movieSearch} />\n      )}\n      {movieSearch.length > 0 && totalPages > page && (\n        <button className={css.buttonload} type=\"button\" onClick={onLoadMore}>\n          Load More\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default MovieSearch;\n"],"names":["MovieItem","id","poster_path","title","location","useLocation","className","css","to","state","from","src","alt","MovieList","movies","map","name","useState","isLoading","setIsLoading","isError","setIsError","movieSearch","setMovieSearch","page","setPage","useSearchParams","searchParams","setSearchParams","totalPages","setTotalPages","query","get","useEffect","getSearchMovie","console","log","data","results","prevMovies","total_pages","getMovie","type","placeholder","value","onChange","e","target","Loader","length","onClick","prevPage"],"sourceRoot":""}
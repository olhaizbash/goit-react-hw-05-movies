"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[530],{979:function(t,e,a){a.d(e,{e:function(){return m}});a(791);var r=a(689),n=a(87),s="MovieItem_movieitem__MnAv5",o="MovieItem_movieimg__7Nyho",i="MovieItem_movietitle__ouFms",c=a(184),u=function(t){var e=t.id,a=t.poster_path,u=t.title,l=(0,r.TH)();return(0,c.jsx)("li",{className:s,children:(0,c.jsxs)(n.rU,{to:"/movies/".concat(e),state:{from:l},children:[(0,c.jsx)("img",{className:o,src:a?"".concat("https://image.tmdb.org/t/p/w500/").concat(a):"https://media.istockphoto.com/id/1396814518/pl/wektor/obraz-ju%C5%BC-wkr%C3%B3tce-brak-zdj%C4%99cia-brak-miniatury-ilustracja-wektorowa.jpg?s=2048x2048&w=is&k=20&c=bUnbketbTn26iM9fYWY5rgDy5BoQrsToBgHUF2SrePA=",alt:u}),(0,c.jsx)("p",{className:i,children:u})]})})},l="MovieList_movielist__eq8p0",m=function(t){var e=t.movies;return(0,c.jsx)("ul",{className:l,children:e.map((function(t){var e=t.id,a=t.poster_path,r=t.title,n=t.name;return(0,c.jsx)(u,{id:e,poster_path:a,title:null!==n&&void 0!==n?n:r},e)}))})}},530:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var r=a(433),n=a(861),s=a(439),o=a(757),i=a.n(o),c=a(791),u=a(345),l=a(979),m=a(525),p=a(87),d={searchbar:"Movies_searchbar__iWczE",buttonload:"Movies_buttonload__t3xJb"},h=a(184),v=function(){var t,e=(0,c.useState)(!1),a=(0,s.Z)(e,2),o=a[0],v=a[1],f=(0,c.useState)(!1),_=(0,s.Z)(f,2),b=_[0],x=_[1],g=(0,c.useState)([]),j=(0,s.Z)(g,2),k=j[0],w=j[1],y=(0,c.useState)(1),M=(0,s.Z)(y,2),Z=M[0],C=M[1],N=(0,p.lr)(),S=(0,s.Z)(N,2),B=S[0],q=S[1],z=(0,c.useState)(0),E=(0,s.Z)(z,2),H=E[0],I=E[1],T=null!==(t=B.get("query"))&&void 0!==t?t:"";(0,c.useEffect)((function(){if(!T)return w([]);function t(){return(t=(0,n.Z)(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,v(!0),x(!1),t.next=5,(0,u.gH)(T,Z);case 5:e=t.sent,console.log(e.data),w(1===Z?e.data.results:function(t){return[].concat((0,r.Z)(t),(0,r.Z)(e.data.results))}),v(!1),I(e.data.total_pages),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),x(!0),v(!1);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[B,Z,T]);return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:d.searchbar,children:(0,h.jsx)("input",{className:d.searchforminput,type:"text",placeholder:"Search movie",value:T,onChange:function(t){if(""===t.target.value)return q({});q({query:t.target.value})}})}),o&&(0,h.jsx)(m.a,{}),b?(0,h.jsx)("span",{children:"Error occurred, try again in few seconds"}):k.length>0&&(0,h.jsx)(l.e,{movies:k}),k.length>0&&H>Z&&(0,h.jsx)("button",{className:d.buttonload,type:"button",onClick:function(){C((function(t){return t+1}))},children:"Load More"})]})}}}]);
//# sourceMappingURL=530.d2a33637.chunk.js.map